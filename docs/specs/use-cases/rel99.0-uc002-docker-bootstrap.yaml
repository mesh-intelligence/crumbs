id: rel99.0-uc002-docker-bootstrap
title: Docker Bootstrap (Docs to Working System)
summary: |
  An agent builds crumbs from documentation alone inside a fresh Docker container,
  then uses crumbs to track its own work. This validates that the documentation is
  sufficient to produce a working system and that crumbs can serve as the issue tracker.
actor: Coding agent (Claude) running inside a Docker container with Go toolchain and access to Claude API
trigger: Starting the container with only the docs/ directory mounted (no source code, just documentation)
flow:
  - id: F1
    step: "Build Docker image: create an image with Go toolchain and Claude Code installed, no crumbs source code"
  - id: F2
    step: "Start container: mount only the docs/ directory from the host"
  - id: F3
    step: "Verify environment: confirm Go and Claude are available, confirm no existing source code"
  - id: F4
    step: "Read documentation: read VISION.md, ARCHITECTURE.md, road-map.yaml, PRDs, and use cases from the mounted docs directory"
  - id: F5
    step: "Plan work items: create a work plan for release 01.0 based on road-map.yaml covering core interfaces from prd001-cupboard-core and SQLite backend from prd002-sqlite-backend"
  - id: F6
    step: "Implement release 01.0: implement pkg/types (Cupboard, Table, Crumb, Config), internal/sqlite (backend, JSONL, directory layout), cmd/crumbs (CLI with config loading)"
  - id: F7
    step: "Validate use cases: verify success criteria for rel01.0-uc001 (Cupboard lifecycle), rel01.0-uc002 (SQLite CRUD), rel01.0-uc003 (Core CRUD)"
  - id: F8
    step: "Build and test: compile crumbs and run tests with go build and go test"
  - id: F9
    step: "Initialize crumbs: create a crumbs cupboard for tracking work using platform-appropriate directories"
  - id: F10
    step: "Import remaining work: create crumbs for release 02.0+ work items using the CLI"
  - id: F11
    step: "Verify crumbs operations: test that crumbs CLI commands work correctly (list, ready, update, close)"
  - id: F12
    step: "Continue development: use crumbs to track work on releases 02.0, 03.0, 04.0"
  - id: F13
    step: "Verify crumbs tracks crumbs: confirm work items are managed by crumbs itself with JSONL persistence and SQLite cache"
  - id: F14
    step: "Complete remaining releases: work through releases 02.0-04.0 tracking all work in crumbs with proper state lifecycle"
  - id: F15
    step: "Export container: package the completed crumbs implementation for use outside the container"
touchpoints:
  - T1: "Docker: isolated build environment"
  - T2: "docs/ directory: source of truth for implementation"
  - T3: "crumbs CLI: work tracking and self-hosting (prd010-configuration-directories R7)"
  - T4: "Cupboard interface: core storage abstraction with Attach/Detach lifecycle (prd001-cupboard-core R2, R4, R5)"
  - T5: "Table interface: uniform CRUD operations Get, Set, Delete, Fetch (prd001-cupboard-core R3)"
  - T6: "Config struct: backend selection and data directory (prd001-cupboard-core R1, prd010-configuration-directories R8)"
  - T7: "SQLite backend: storage implementation with JSONL source of truth (prd002-sqlite-backend R1-R16)"
  - T8: "Crumb entity: work item with state lifecycle and properties (prd003-crumbs-interface R1-R11)"
  - T9: "JSONL files: line-delimited JSON for data persistence (prd010-configuration-directories R3-R4)"
success_criteria:
  - id: S1
    criterion: Docker container starts with only docs/ mounted (no source code)
  - id: S2
    criterion: Agent reads and understands all documentation (VISION, ARCHITECTURE, PRDs)
  - id: S3
    criterion: Agent implements release 01.0 from documentation (prd001-cupboard-core, prd003-crumbs-interface, prd002-sqlite-backend, prd010-configuration-directories)
  - id: S4
    criterion: Cupboard interface works with Attach initializing storage (prd001-cupboard-core R4) and Detach cleaning up (prd001-cupboard-core R5)
  - id: S5
    criterion: Table interface works with Get, Set, Delete, Fetch operations (prd001-cupboard-core R3)
  - id: S6
    criterion: Crumb entity works with state transitions and property methods (prd003-crumbs-interface R4, R5)
  - id: S7
    criterion: SQLite backend works with JSONL persistence and startup loading (prd002-sqlite-backend R4, R5)
  - id: S8
    criterion: All release 01.0 tests pass
  - id: S9
    criterion: All release 01.0 use case success criteria are met
  - id: S10
    criterion: Crumbs CLI initializes and accepts work items (prd010-configuration-directories R1, R2)
  - id: S11
    criterion: Remaining releases (02.0+) are tracked in crumbs
  - id: S12
    criterion: Final crumbs implementation matches documentation
out_of_scope:
  - Multi-agent coordination (single agent bootstrap)
  - Continuous integration setup
  - Production deployment
  - Performance optimization
  - Documentation generation (docs are input, not output)
test_suite: test-rel99.0
